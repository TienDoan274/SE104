{% extends 'base.html' %}
{% block title %}Bao cao thang{% endblock %}
{% block content %}
<form id="monthForm">
    <label for="thangbaocao">Chọn tháng:</label>
    <input type="month" id="thangbaocao" name="date">
    <br><br>
    <input type="submit" value="Gửi">
</form>
<script>
    document.getElementById('monthForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Ngăn chặn form gửi đi theo cách thông thường

        const dateInput = document.getElementById('thangbaocao').value;
        if (dateInput) {
            const date = new Date(dateInput);
            const month = date.getMonth() + 1; // Lưu ý: getMonth() trả về giá trị từ 0-11
            const year = date.getFullYear();
            // const formattedDate = `${year.toString().padStart(4, '0')}-${month.toString().padStart(2, '0')}`;
            // Tạo URL với các tham số ngày, tháng và năm
            const url = `../report_revenue/${year}/${month}/`;

            // Chuyển hướng tới URL mới
            window.location.href = url;
        } else {
            alert('Vui lòng chọn thời gian .');
        }
    });
</script>
{% endblock %}
